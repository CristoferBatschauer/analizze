<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Docs For Class XOAD_Events_Storage</title>
	<link rel="stylesheet" type="text/css" id="layout" href="../../media/layout.css" media="screen">
	<link rel="stylesheet" type="text/css" href="../../media/style.css" media="all">
	<link rel="stylesheet" type="text/css" href="../../media/print.css" media="print">
</head>

<body>
<div id="header">
	<div id="navLinks">
		[ <a href="../../classtrees_XOAD.html">Class Tree: XOAD</a> ]
		[ <a href="../../elementindex_XOAD.html">Index: XOAD</a> ]
		[ <a href="../../elementindex.html">All elements</a> ]
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">XOAD</div>
		<div id="packageTitle">XOAD</div>
		<div id="elementPath">XOAD_Events &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="packages">
		Packages:
					<p><a href="../../li_XOAD.html">XOAD</a></p>
			</div>

				<div id="index">
			<div id="files">
								Files:<br>
								<a href="../../XOAD/_Client_class_php.html">		Client.class.php
		</a><br>
			<a href="../../XOAD/_Meta_class_php.html">		Meta.class.php
		</a><br>
			<a href="../../XOAD/_Observable_class_php.html">		Observable.class.php
		</a><br>
			<a href="../../XOAD/_Observer_class_php.html">		Observer.class.php
		</a><br>
			<a href="../../XOAD/_Serializer_class_php.html">		Serializer.class.php
		</a><br>
			<a href="../../XOAD/_Server_class_php.html">		Server.class.php
		</a><br>
			<a href="../../XOAD/_Utilities_class_php.html">		Utilities.class.php
		</a><br>
		subpackage <b>XOAD_Events</b><br>			<a href="../../XOAD/XOAD_Events/_events_storage_File_class_php.html">		File.class.php
		</a><br>
			<a href="../../XOAD/XOAD_Events/_events_storage_pg_class_php.html">		MySQL.class.php
		</a><br>
			<a href="../../XOAD/XOAD_Events/_events_storage_PearDB_class_php.html">		PearDB.class.php
		</a><br>
			<a href="../../XOAD/XOAD_Events/_events_Storage_class_php.html">		Storage.class.php
		</a><br>
				</div>
			<div id="classes">
				Classes:<br>
								<a href="../../XOAD/XOAD_Client.html">		XOAD_Client
		</a><br>
			<a href="../../XOAD/XOAD_Meta.html">		XOAD_Meta
		</a><br>
			<a href="../../XOAD/XOAD_Observable.html">		XOAD_Observable
		</a><br>
			<a href="../../XOAD/XOAD_Observer.html">		XOAD_Observer
		</a><br>
			<a href="../../XOAD/XOAD_Serializer.html">		XOAD_Serializer
		</a><br>
			<a href="../../XOAD/XOAD_Server.html">		XOAD_Server
		</a><br>
			<a href="../../XOAD/XOAD_Utilities.html">		XOAD_Utilities
		</a><br>
		<b>XOAD_Events</b><br>			<a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html">		XOAD_Events_Storage
		</a><br>
			<a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html">		XOAD_Events_Storage_File
		</a><br>
			<a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html">		XOAD_Events_Storage_MySQL
		</a><br>
			<a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html">		XOAD_Events_Storage_PearDB
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
	    		<h1>Class: XOAD_Events_Storage</h1>
	<p style="margin: 0px;">Source Location: /events/Storage.class.php</p>
	

<div class="leftcol">
	<h3><a href="#class_details">Class Overview</a> <span class="smalllinenumber">[line 62]</span></h3>
	<div id="classTree"><pre></pre>
</div>
	<div class="small">
	<p>XOAD Events Storage Class.</p>
		<h4>Author(s):</h4>
	<ul>
													<li>Stanimir Angeloff</li>
						</ul>
	<h4>Version:</h4>
	<ul>
								<li>0.6.0.0</li>
											</ul>

	<h4>Copyright:</h4>
	<ul>
													</li>
	</div>
</div>

<div class="middlecol">
	<h3><a href="#class_vars">Variables</a></h3>
	<ul class="small">
			</ul>
	<h3><a href="#class_consts">Constants</a></h3>
	<ul class="small">
			</ul>
</div>
<div class="rightcol">
	<h3><a href="#class_methods">Methods</a></h3>
	<ul class="small">
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodXOAD_Events_Storage">XOAD_Events_Storage</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodcleanEvents">cleanEvents</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodfilterEvents">filterEvents</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodfilterMultipleEvents">filterMultipleEvents</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodgetStorage">getStorage</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodpostEvent">postEvent</a></li>
				<li><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodpostMultipleEvents">postMultipleEvents</a></li>
			</ul>
</div>

<div id="content">
<hr>
	<div class="contents">
	<h2>Child classes:</h2>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html">XOAD_Events_Storage_File</a></dt>
		<dd>XOAD Events Storage File Class.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html">XOAD_Events_Storage_MySQL</a></dt>
		<dd>XOAD Events Storage MySQL Class.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html">XOAD_Events_Storage_PearDB</a></dt>
		<dd>XOAD Events Storage PearDB Class.</dd>
	</dl>
	</p>
	</div>

	<div class="leftCol">
	<h2>Inherited Variables</h2>
		<h2>Inherited Constants</h2>
		</div>

	<div class="rightCol">
	<h2>Inherited Methods</h2>
		</div>
	<br clear="all">
	<hr>

	<a name="class_details"></a>
	<h2>Class Details</h2>
	<p align="center"><strong>XOAD Events Storage Class.
</strong></p>
<p>This class is used as base class for all XOAD Events storage providers.</p><p>The class also defines the <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodgetStorage">getStorage</a> method which  is used to retrieve an instane to the configurated storage.</p><p>Example XOAD Events provider: <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html">XOAD_Events_Storage_MySQL</a>.</p><p>Example:</p><p><div class="listing"><pre><ol><li> &lt;?<span class="src-id">php</span></li>
<li>&nbsp;</li>
<li> <a href="http://www.php.net/define">define</a><span class="src-sym">(</span><span class="src-str">'XOAD_EVENTS_STORAGE_DSN'</span><span class="src-sym">, </span><span class="src-str">'MySQL://server=?;user=?;password=?;database=?'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'xoad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-comm">// The line below will return a XOAD_Events_Storage_MySQL</span></li>
<li><span class="src-comm">// class instance.</span></li>
<li> </li>
<li> <span class="src-var">$storage </span>=<span class="src-sym">&amp; </span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodXOAD_Events_Storage">XOAD_Events_Storage</a><span class="src-sym">::</span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodgetStorage">getStorage</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-var">$storage</span><span class="src-sym">-&gt;</span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodpostEvent">postEvent</a><span class="src-sym">(</span><span class="src-str">'event'</span><span class="src-sym">, </span><span class="src-str">'class'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-php">?&gt;</span></li>
</ol></pre></div></p><h4>Tags:</h4>
<ul>
	<li><b>version</b> - 0.6.0.0</li>
	<li><b>author</b> - Stanimir Angeloff</li>
</ul>
	<p class="small" style="color: #334B66;">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_vars"></a>
	<h2>Class Variables</h2>
	
	<hr>
	<a name="class_methods"></a>
	<h2>Class Methods</h2>
		<a name="methodXOAD_Events_Storage"></a>
	<p></p>
	<h3>XOAD_Events_Storage</h3>
	<div class="indent">
		<p>
		<code>XOAD_Events_Storage XOAD_Events_Storage(
[string
$dsn = null])</code>
		</p>
	
		<p class="linenumber">[line 73]</p>
		<p align="center"><strong>Creates a new instance of the <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html">XOAD_Events_Storage</a> class.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>access</b> - public</li>
</ul>
		

	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$dsn</b> 
		- 
		The data source name and parameters to use                             when creating the instance.</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodcleanEvents"></a>
	<p></p>
	<h3>cleanEvents</h3>
	<div class="indent">
		<p>
		<code>int cleanEvents(
)</code>
		</p>
	
		<p class="linenumber">[line 263]</p>
		<p align="center"><strong>This method should be called from each successor to retrieve  the start time of the old events in the storage.
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - The start time of the old events.</li>
	<li><b>access</b> - public</li>
</ul>
		
	<p>Overridden in child classes as:<br />
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html#methodcleanEvents">XOAD_Events_Storage_File::cleanEvents()</a></dt>
		<dd>Deletes old events from the container.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html#methodcleanEvents">XOAD_Events_Storage_MySQL::cleanEvents()</a></dt>
		<dd>Deletes old events from the database.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html#methodcleanEvents">XOAD_Events_Storage_PearDB::cleanEvents()</a></dt>
		<dd>Deletes old events from the database.</dd>
	</dl>
	</p>

	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilterEvents"></a>
	<p></p>
	<h3>filterEvents</h3>
	<div class="indent">
		<p>
		<code>array filterEvents(
string
$event, string
$class, [string
$filter = null], [int
$time = null])</code>
		</p>
	
		<p class="linenumber">[line 294]</p>
		<p align="center"><strong>Filters the events in the storage using a single criteria.
</strong></p>
<p>The $event and $class arguments are required  for each event. The $filter and $time arguments  are optional.</p><p>This method calls <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodfilterMultipleEvents">filterMultipleEvents</a> with the appropriate  arguments.</p><p></p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - Sequental array that contains all events that match the                     supplied criterias, ordered by time (ascending).</li>
	<li><b>access</b> - public</li>
</ul>
		

	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$event</b> 
		- 
		The event name (case-sensitive).</li>
			<li>
		<span class="type">string</span>
		<b>$class</b> 
		- 
		The class that is the source of the event.</li>
			<li>
		<span class="type">string</span>
		<b>$filter</b> 
		- 
		The event filter data (case-insensitive).                                 Using this argument you can filter events with                                 the same name but with different filter data.</li>
			<li>
		<span class="type">int</span>
		<b>$time</b> 
		- 
		The event start time (seconds since the Unix                                 Epoch (January 1 1970 00:00:00 GMT).</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodfilterMultipleEvents"></a>
	<p></p>
	<h3>filterMultipleEvents</h3>
	<div class="indent">
		<p>
		<code>bool filterMultipleEvents(
mixed
&$event)</code>
		</p>
	
		<p class="linenumber">[line 318]</p>
		<p align="center"><strong>This method should be called from each successor to add common data to the event.
</strong></p>
<p>When you call this method you should pass an associative  array that contains the event data. This method will populate  it with the missing information and will check the validity of  the presented.</p><p></p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true on success, false otherwise</li>
	<li><b>access</b> - public</li>
</ul>
		
	<p>Overridden in child classes as:<br />
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html#methodfilterMultipleEvents">XOAD_Events_Storage_File::filterMultipleEvents()</a></dt>
		<dd>Filters the events in the container using multiple criterias.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html#methodfilterMultipleEvents">XOAD_Events_Storage_MySQL::filterMultipleEvents()</a></dt>
		<dd>Filters the events in the database using multiple criterias.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html#methodfilterMultipleEvents">XOAD_Events_Storage_PearDB::filterMultipleEvents()</a></dt>
		<dd>Filters the events in the database using multiple criterias.</dd>
	</dl>
	</p>

	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodgetStorage"></a>
	<p></p>
	<h3>getStorage</h3>
	<div class="indent">
		<p>
		<code>object Singleton &amp;getStorage(
)</code>
		</p>
	
		<p class="linenumber">[line 115]</p>
		<p align="center"><strong>Retrieves an instanse to the configurated XOAD Events storage provider.
</strong></p>
<p>Example:</p><p><div class="listing"><pre><ol><li> &lt;?<span class="src-id">php</span></li>
<li>&nbsp;</li>
<li> <span class="src-inc">require_once</span><span class="src-sym">(</span><span class="src-str">'xoad.php'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-var">$storage </span>=<span class="src-sym">&amp; </span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodXOAD_Events_Storage">XOAD_Events_Storage</a><span class="src-sym">::</span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodgetStorage">getStorage</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-var">$storage</span><span class="src-sym">-&gt;</span><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodpostEvent">postEvent</a><span class="src-sym">(</span><span class="src-str">'event'</span><span class="src-sym">, </span><span class="src-str">'class'</span><span class="src-sym">)</span><span class="src-sym">;</span></li>
<li>&nbsp;</li>
<li> <span class="src-php">?&gt;</span></li>
</ol></pre></div></p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html">XOAD_Events_Storage</a> inherited class based                     on the configuration (see XOAD_EVENTS_STORAGE_DSN).</li>
	<li><b>static</b> - </li>
	<li><b>access</b> - public</li>
</ul>
		
	<p>Overridden in child classes as:<br />
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html#methodgetStorage">XOAD_Events_Storage_File::getStorage()</a></dt>
		<dd>Retrieves a static instance of the <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html">XOAD_Events_Storage_File</a> class.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html#methodgetStorage">XOAD_Events_Storage_MySQL::getStorage()</a></dt>
		<dd>Retrieves a static instance of the <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html">XOAD_Events_Storage_MySQL</a> class.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html#methodgetStorage">XOAD_Events_Storage_PearDB::getStorage()</a></dt>
		<dd>Retrieves a static instance of the <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html">XOAD_Events_Storage_PearDB</a> class.</dd>
	</dl>
	</p>

	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodpostEvent"></a>
	<p></p>
	<h3>postEvent</h3>
	<div class="indent">
		<p>
		<code>bool postEvent(
string
$event, string
$class, [object
$sender = null], [mixed
$data = null], [string
$filter = null], [int
$time = null], [int
$lifetime = null])</code>
		</p>
	
		<p class="linenumber">[line 199]</p>
		<p align="center"><strong>Posts a single event to the storage.
</strong></p>
<p>The $event and $class arguments are required  for each event. The $sender, $data, $filter,  $time and $lifetime arguments are optional.</p><p>In case you have supplied both $class and $sender,  then the $sender's class must match the one you've supplied.</p><p>This method calls <a href="../../XOAD/XOAD_Events/XOAD_Events_Storage.html#methodpostMultipleEvents">postMultipleEvents</a> with the appropriate  arguments.</p><p></p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true on success, false otherwise.</li>
	<li><b>access</b> - public</li>
</ul>
		

	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$event</b> 
		- 
		The event name (case-sensitive).</li>
			<li>
		<span class="type">string</span>
		<b>$class</b> 
		- 
		The class that is the source of the event.</li>
			<li>
		<span class="type">object</span>
		<b>$sender</b> 
		- 
		The sender object of the event.</li>
			<li>
		<span class="type">mixed</span>
		<b>$data</b> 
		- 
		The data associated with the event.</li>
			<li>
		<span class="type">string</span>
		<b>$filter</b> 
		- 
		The event filter data (case-insensitive).                                 Using this argument you can post events with                                 the same name but with different filter data.                                 The client will respond to them individually.</li>
			<li>
		<span class="type">int</span>
		<b>$time</b> 
		- 
		The event start time (seconds since the Unix                                 Epoch (January 1 1970 00:00:00 GMT).</li>
			<li>
		<span class="type">int</span>
		<b>$lifetime</b> 
		- 
		The event lifetime (in seconds).</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodpostMultipleEvents"></a>
	<p></p>
	<h3>postMultipleEvents</h3>
	<div class="indent">
		<p>
		<code>bool postMultipleEvents(
mixed
&$event)</code>
		</p>
	
		<p class="linenumber">[line 226]</p>
		<p align="center"><strong>This method should be called from each successor to add common data to the event.
</strong></p>
<p>When you call this method you should pass an associative  array that contains the event data. This method will populate  it with the missing information and will check the validity of  the presented.</p><p></p><h4>Tags:</h4>
<ul>
	<li><b>return</b> - true on success, false otherwise</li>
	<li><b>access</b> - public</li>
</ul>
		
	<p>Overridden in child classes as:<br />
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_File.html#methodpostMultipleEvents">XOAD_Events_Storage_File::postMultipleEvents()</a></dt>
		<dd>Posts multiple events to the container.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_MySQL.html#methodpostMultipleEvents">XOAD_Events_Storage_MySQL::postMultipleEvents()</a></dt>
		<dd>Posts multiple events to the database.</dd>
	</dl>
		<dl>
	<dt><a href="../../XOAD/XOAD_Events/XOAD_Events_Storage_PearDB.html#methodpostMultipleEvents">XOAD_Events_Storage_PearDB::postMultipleEvents()</a></dt>
		<dd>Posts multiple events to the database.</dd>
	</dl>
	</p>

	<h4>Parameters:</h4>
	<ul>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_methods"></a>
	<h2>Class Methods</h2>
	</div>
	<div id="credit">
		<hr>
		Documentation generated on Wed,  1 Feb 2006 23:01:05 -0200 by <a href="http://www.phpdoc.org">phpDocumentor 1.3.0RC3</a>
	</div>
</div>
</body>
</html>
